syntax = "proto3";

package swim;

enum NodeState {
  Alive = 0;
  Suspect = 1;
  Dead = 2;
}

message Gossip {
  message Ping {
    string from = 1;
  }

  message Ack {
    string from = 1;
  }

  message JoinRequest {
    string from = 1;
  }

  message JoinResponse {
    map<string, NodeState> members = 1;
  }

  oneof gossip_type {
    Ping ping = 1;
    Ack ack = 2;
    JoinRequest join_request = 3;
    JoinResponse join_response = 4;
  }
}


