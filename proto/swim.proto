syntax = "proto3";

package swim;

enum NodeState {
  Alive = 0;
  Suspect = 1;
  Dead = 2;
  Pending = 3;
}

message Gossip {
  message Ping {
    string from = 1;
  }

  message PingReq {
    string from = 1;
    string suspect = 2;
  }

  message Ack {
    string from = 1;
  }

  message JoinRequest {
    string from = 1;
  }

  message JoinResponse {
    map<string, NodeState> members = 1;
  }

  oneof gossip_type {
    Ping ping = 1;
    PingReq ping_req = 2;
    Ack ack = 3;
    JoinRequest join_request = 4;
    JoinResponse join_response = 5;
  }
}


